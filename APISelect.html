<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leads tracking tools -- API Selection</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
  <div id="app">
    <div class="container">
      <h2>API Selection </h2>
      <div class="form-check" v-for="(item, index) in items" :key="index">
        <div class="row align-items-center">
          <div class="col-4">
            <input class="form-check-input" type="checkbox" :id="'item-' + index" :value="item.name" v-model="selectedItems">
            <label class="form-check-label ml-2" :for="'item-' + index">{{ item.name }}</label>
          </div>
          <div class="col-8">
            <div class="input-group input-group-sm">
              
              <input class="form-control" type="number" :id="'value-' + index" v-model="item.p" :disabled="!selectedItems.includes(item.name)">
              <div class="input-group-append">
                <span class="input-group-text">%</span>
              </div>
            </div>
          </div>
        </div>
      </div>


      <button class="btn btn-primary mt-3" @click="submit">Submit</button>
      <div class="mt-3">
        <h3>Result:</h3>
        <pre>{{ jsonResult }}</pre>
      </div>
    </div>
  </div>
  <style>
pre {
  background-color: #f8f9fa;
  padding: 10px;
}
</style>
  <!-- Vue.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>

  <script>
    new Vue({
      el: '#app',
      data() {
        return {
          items: [
            { "name": "bnology", "p": null },
            { "name": "thunder2", "p": null },
            { "name": "trackbox", "p": null },
            { "name": "libertex", "p": null },
            { "name": "libertex3", "p": null },
            { "name": "roikingdom", "p": null },
            { "name": "affiliate_masters", "p": null },
            { "name": "leadingmedia", "p": null },
            { "name": "TrafficonAPI", "p": null },
            { "name": "thunder", "p": null },
            { "name": "epcclubtracker", "p": null },
            { "name": "finnteka", "p": null }
          ],
          selectedItems: [],
          jsonResult: null
        }
      },
      methods: {
        submit() {
          const myJsonList = this.items.filter(item => this.selectedItems.includes(item.name));
          // Use myJsonList as desired
          this.jsonResult = JSON.stringify(myJsonList, null, 0).replace(/\},/g, "},\n").replace(/\]/g, "\n\]").replace(/\[/g, "\[\n");
        }
      }
    });
  </script>

</body>
</html>
